/* (c) 2016, Richard Feldman, github.com/rtfeldman/seamless-immutable/blob/master/LICENSE */!function(){"use strict";function a(b){function c(a){return"object"==typeof a&&!Array.isArray(a)&&null!==a}function d(a){var b=Object.getPrototypeOf(a);return b?b===Map.prototype?new Map:b===Array.prototype?[]:Object.create(b):{}}function e(a,b,c){Object.defineProperty(a,b,{enumerable:!1,configurable:!1,writable:!1,value:c})}function f(a,b){e(a,b,function(){throw new k("The "+b+" method cannot be invoked on an Immutable data structure.")})}function g(a){e(a,S,!0)}function h(a){return"object"!=typeof a||(null===a||Boolean(Object.getOwnPropertyDescriptor(a,S)))}function i(a,b){return a===b||a!==a&&b!==b}function j(a){return!(null===a||"object"!=typeof a||Array.isArray(a)||a instanceof Date)}function k(a){var b=new Error(a);return b.__proto__=k,b}function l(a,b){g(a);for(var c in b)b.hasOwnProperty(c)&&f(a,b[c]);return Object.freeze(a),a}function m(a,b){var c=a[b];e(a,b,function(){return L(c.apply(a,arguments))})}function n(a,b,c){var d=c&&c.deep;if(a in this&&(d&&this[a]!==b&&j(b)&&j(this[a])&&(b=L.merge(this[a],b,{deep:!0,mode:"replace"})),i(this[a],b)))return this;var e=v.call(this);return e[a]=L(b),p(e)}function o(a,b,c){var d=a[0];if(1===a.length)return n.call(this,d,b,c);var e,f=a.slice(1),g=this[d];if("object"==typeof g&&null!==g)e=L.setIn(g,f,b);else{var h=f[0];e=""!==h&&isFinite(h)?o.call($,f,b):B.call(_,f,b)}if(d in this&&g===e)return this;var i=v.call(this);return i[d]=e,p(i)}function p(a){for(var b in W)if(W.hasOwnProperty(b)){var c=W[b];m(a,c)}R.use_static||(e(a,"flatMap",t),e(a,"asObject",w),e(a,"asMutable",v),e(a,"set",n),e(a,"setIn",o),e(a,"update",D),e(a,"updateIn",F));for(var d=0,f=a.length;d<f;d++)a[d]=L(a[d]);return l(a,V)}function q(a){for(var b in Z)if(Z.hasOwnProperty(b)){var c=Z[b];m(a,c)}return R.use_static||(e(a,"asObject",w),e(a,"asMutable",v)),a.forEach(function(b,c){a.set(c,L(b))}),l(a,Y)}function r(a){return R.use_static||e(a,"asMutable",s),l(a,X)}function s(){return new Date(this.getTime())}function t(a){if(0===arguments.length)return this;var b,c=[],d=this.length;for(b=0;b<d;b++){var e=a(this[b],b,this);Array.isArray(e)?c.push.apply(c,e):c.push(e)}return p(c)}function u(a){if("undefined"==typeof a&&0===arguments.length)return this;if("function"!=typeof a){var b=Array.isArray(a)?a.slice():Array.prototype.slice.call(arguments);b.forEach(function(a,b,c){"number"==typeof a&&(c[b]=a.toString())}),a=function(a,c){return b.indexOf(c)!==-1}}var c=d(this);for(var e in this)this.hasOwnProperty(e)&&a(this[e],e)===!1&&(c[e]=this[e]);return I(c)}function v(a){var b,c,d=[];if(a&&a.deep)for(b=0,c=this.length;b<c;b++)d.push(x(this[b]));else for(b=0,c=this.length;b<c;b++)d.push(this[b]);return d}function w(a){"function"!=typeof a&&(a=function(a){return a});var b,c={},d=this.length||this.size||0;if(this.forEach&&!a)this.forEach(function(a,b){c[String(b)]=a});else for(b=0;b<d;b++){var e=a(this[b],b,this),f=e[0],g=e[1];c[f]=g}return I(c)}function x(a){return!a||"object"!=typeof a||!Object.getOwnPropertyDescriptor(a,S)||a instanceof Date?a:L.asMutable(a,{deep:!0})}function y(a,b){if(a.forEach)a.forEach(function(a,c){b instanceof Map?b.set(c,a):b[c]=a});else for(var c in a)Object.getOwnPropertyDescriptor(a,c)&&(b[c]=a[c]);return b}function z(a,b){function c(a,c,e){var g=c[e]===!1?c[e]:c[e]||c.get&&c.get(e),h=g?g||c:L(g),l=m&&m(a[e],h,b),n=a[e];if(void 0!==f||void 0!==l||!a.hasOwnProperty(e)||!i(h,n)){var o;o=l?l:k&&j(n)&&j(h)?L.merge(n,h,b):h,i(n,o)&&a.hasOwnProperty(e)||(void 0===f&&(f=y(a,d(a))),f instanceof Map?f.set(e,o):f[e]=o)}}function e(a,b){for(var c in a)b.hasOwnProperty(c)||(void 0===f&&(f=y(a,d(a))),delete f[c])}if(0===arguments.length)return this;if(null===a||"object"!=typeof a)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(a));var f,g,h=Array.isArray(a),k=b&&b.deep,l=b&&b.mode||"merge",m=b&&b.merger;if(h||a instanceof Map!=!1)if(h)for(var n=0,o=a.length;n<o;n++){var p=a[n];if(Array.isArray(p)||p===Object(p))for(g in p)p.hasOwnProperty(g)&&c(void 0!==f?f:this,p,g);else c(void 0!==f?f:this,p,n)}else{var q=this;a.forEach(function(b,d){c(q,a,d)})}else{for(g in a)Object.getOwnPropertyDescriptor(a,g)&&c(this,a,g);"replace"===l&&this===Object(this)&&e(this,a)}return void 0===f?this:I(f)}function A(a,b){var c=b&&b.deep;if(0===arguments.length)return this;if(null===a||"object"!=typeof a)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(a));return L.merge(this,a,{deep:c,mode:"replace"})}function B(a,b,c){if(!(a instanceof Array)||0===a.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var e=a[0];if(1===a.length)return C.call(this,e,b,c);var f,g=a.slice(1),h=this[e];if(f=this.hasOwnProperty(e)&&"object"==typeof h&&null!==h?L.setIn(h,g,b):B.call(_,g,b),this.hasOwnProperty(e)&&h===f)return this;var i=y(this,d(this));return i[e]=f,I(i)}function C(a,b,c){var e=c&&c.deep;if(this.hasOwnProperty(a)&&(e&&this[a]!==b&&j(b)&&j(this[a])&&(b=L.merge(this[a],b,{deep:!0,mode:"replace"})),i(this[a],b)))return this;var f=y(this,d(this));return f[a]=L(b),I(f)}function D(a,b){var c=Array.prototype.slice.call(arguments,2),d=this[a];return L.set(this,a,b.apply(d,[d].concat(c)))}function E(a,b){for(var c=0,d=b.length;null!=a&&c<d;c++)a=a[b[c]];return c&&c==d?a:void 0}function F(a,b){var c=Array.prototype.slice.call(arguments,2),d=E(this,a);return L.setIn(this,a,b.apply(d,[d].concat(c)))}function G(a){var b,c=d(this);if(a&&a.deep)for(b in this)this.hasOwnProperty(b)&&(c[b]=x(this[b]));else if(this.forEach)this.forEach(function(a,b){this&&this.has&&this.has(b)&&(c[b]=a)});else for(b in this)this.hasOwnProperty(b)&&(c[b]=this[b]);return c}function H(){return{}}function I(a){return R.use_static||(e(a,"merge",z),e(a,"replace",A),e(a,"without",u),e(a,"asMutable",G),e(a,"set",C),e(a,"setIn",B),e(a,"update",D),e(a,"updateIn",F)),l(a,U)}function J(a){return"object"==typeof a&&null!==a&&(a.$$typeof===Q||a.$$typeof===P)}function K(a){return"undefined"!=typeof File&&a instanceof File}function L(a,b,c){if(h(a)||J(a)||K(a))return a;if(Array.isArray(a))return p(a.slice());if(a instanceof Date)return r(new Date(a.getTime()));if(a.constructor===Map)return q(new Map(a));var d=b&&b.prototype,e=d&&d!==Object.prototype?function(){return Object.create(d)}:H,f=e();if(null==c&&(c=64),c<=0)throw new k("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");c-=1;for(var g in a)Object.getOwnPropertyDescriptor(a,g)&&(f[g]=L(a[g],void 0,c));return I(f)}function M(a){function b(){var b=[].slice.call(arguments),c=b.shift();return a.apply(c,b)}return b}function N(a,b){function c(){var c=[].slice.call(arguments),d=c.shift();return Array.isArray(d)?b.apply(d,c):a.apply(d,c)}return c}function O(a,b,c){function d(){var d=[].slice.call(arguments),e=d.shift();return Array.isArray(e)?b.apply(e,d):e instanceof Date?c.apply(e,d):a.apply(e,d)}return d}var P="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element"),Q=60103,R={use_static:!1};c(b)&&void 0!==b.use_static&&(R.use_static=Boolean(b.use_static));var S="__immutable_invariants_hold",T=["keys"],U=["setPrototypeOf"],V=U.concat(["push","pop","sort","splice","shift","unshift","reverse"]),W=T.concat(["map","filter","slice","concat","reduce","reduceRight"]),X=U.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),Y=(U.concat(["delete","set"]),["clear","delete","set"]),Z=U.concat(["size","entries","forEach","get","has","keys","values"]);k.prototype=Error.prototype;var $=L([]),_=L({});return L.from=L,L.isImmutable=h,L.ImmutableError=k,L.merge=M(z),L.replace=M(A),L.without=M(u),L.asMutable=O(G,v,s),L.set=N(C,n),L.setIn=N(B,o),L.update=M(D),L.updateIn=M(F),L.flatMap=M(t),L.asObject=M(w),R.use_static||(L["static"]=a({use_static:!0})),Object.freeze(L),L}var b=a();"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module?module.exports=b:"object"==typeof exports?exports.Immutable=b:"object"==typeof window?window.Immutable=b:"object"==typeof global&&(global.Immutable=b)}();